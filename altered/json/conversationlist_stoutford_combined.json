[
    {
        "id":"stoutford_castle_3a",
        "message":"Did you come to serve me? On your knees!",
        "switchToNPC":"erwyn",
        "replies":[
            {
                "text":"What would I gain from that?",
                "nextPhraseID":"stoutford_castle_3b"
            },
            {
                "text":"You are very rude and poorly educated. Maybe I should introduce myself? $playername is my name.",
                "nextPhraseID":"stoutford_castle_3c"
            },
            {
                "text":"I will serve you - my weapon. Attack!",
                "nextPhraseID":"F"
            }
        ]
    },
    {
        "id":"cadoren_4",
        "message":"The path to Blackwater mountain has been cut off. There are also increasing attacks by monsters. These things have driven down trade, making supplies hard to get.",
        "replies":[
            {
                "text":"So all the food you sell is old?",
                "nextPhraseID":"cadoren_5"
            },
            {
                "text":"Where is Blackwater mountain?",
                "nextPhraseID":"cadoran_4b"
            },
            {
                "text":"Why are monster attacks increasing?",
                "nextPhraseID":"cadoren_4a"
            },
            {
                "text":"Thanks for the information. I have to leave now.",
                "nextPhraseID":"X"
            }
        ]
    },
    {
        "id":"cadoren_0",
        "message":"Welcome to our wonderful Inn. How can we help you?",
        "replies":[
            {
                "text":"Who are you?",
                "nextPhraseID":"cadoren_1"
            }
        ]
    },
    {
        "id":"yolgen_castle_2",
        "message":"That is unbelievable!",
        "replies":[
            {
                "text":"Well, it was a tough fight, but I managed to slay Lord Erwyn himself.",
                "nextPhraseID":"yolgen_castle_2a"
            },
            {
                "text":"The undead are no match for me.",
                "nextPhraseID":"yolgen_castle_2a"
            }
        ]
    },
    {
        "id":"berbane_140",
        "message":"(low voice) Well-behaved. \n(loud voice) And now: Mead for everyone! Let's be merry! Forget all sorrows!",
        "rewards":[
            {
                "rewardType":"giveItem",
                "rewardID":"mead",
                "value":1
            },
            {
                "rewardType":"questProgress",
                "rewardID":"stn_quest_gyra",
                "value":99
            },
            {
                "rewardType":"questProgress",
                "rewardID":"stn_nondisplay",
                "value":45
            }
        ]
    },
    {
        "id":"odirath_2",
        "message":"Yes, indeed. My daughter has not come home for some days. I don't know what's happened to her.",
        "replies":[
            {
                "text":"And you have no idea where she might be?",
                "nextPhraseID":"odirath_2_1"
            }
        ]
    },
    {
        "id":"odirath_1_4",
        "message":"They started attacking the town recently. Nobody is sure why. Their attacks have been unsuccessful, so we are all hoping that they will give up soon and go back to wherever they came from.",
        "replies":[
            {
                "text":"Thanks for the information, but I have to leave. ",
                "nextPhraseID":"X"
            },
            {
                "text":"Thanks for the information. Do you have anything to trade?",
                "nextPhraseID":"S"
            },
            {
                "text":"Thanks. I'm looking for my brother, Andor. Has anyone new been through here recently?",
                "nextPhraseID":"odirath_1"
            },
            {
                "text":"How do I get to Blackwater mountain?",
                "nextPhraseID":"odirath_1_3"
            }
        ]
    },
    {
        "id":"odirath_1_3",
        "message":"Just follow the path west, but you will have to find a way past the rockfall.",
        "replies":[
            {
                "text":"Thanks for the directions. I'm headed there right now.",
                "nextPhraseID":"X"
            },
            {
                "text":"Thanks. What about the monsters?",
                "nextPhraseID":"odirath_1_4"
            },
            {
                "text":"Thanks for the information. Please show me what you have to trade.",
                "nextPhraseID":"S"
            }
        ]
    },
    {
        "id":"stoutford_widow_5",
        "message":"He told me that it is very far from here, to the northeast, beyond the river and the mountains.",
        "replies":[
            {
                "text":"N",
                "nextPhraseID":"stoutford_widow_6"
            }
        ]
    },
    {
        "id":"stoutford_widow_9",
        "message":"But it would be reckless of me to ask such a young kid as you to go so far to the northeast.",
        "replies":[
            {
                "text":"I've had enough - bye.",
                "nextPhraseID":"X"
            },
            {
                "text":"Don't worry about me. I can handle myself.",
                "nextPhraseID":"stoutford_widow_10"
            },
            {
                "text":"I'm an adventurer. I'm afraid of nothing.",
                "nextPhraseID":"stoutford_widow_10"
            },
            {
                "text":"Remgard. *sigh*. OK, I'll do it.",
                "nextPhraseID":"stoutford_widow_10",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"nondisplay_2",
                        "value":170
                    }
                ]
            }
        ]
    },
    {
        "id":"yolgen_surroundings_1a",
        "message":"That dreadful place has been left abandoned ever since. Recently, however, undead have started pouring out of the prison, and we had to send guards to keep them away from the road. ",
        "replies":[
            {
                "text":"I took care of that",
                "nextPhraseID":"yolgen_surroundings_flagstone_4",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":100
                    }
                ]
            },
            {
                "text":"Can I help you with Flagstone?",
                "nextPhraseID":"yolgen_flagstone_0",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":70,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":5,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":100,
                        "negate":true
                    }
                ]
            },
            {
                "text":"Is there anything I could help you with?",
                "nextPhraseID":"yolgen_task_0"
            },
            {
                "text":"There was something else I wanted to ask you about.",
                "nextPhraseID":"yolgen_surroundings_0"
            }
        ]
    },
    {
        "id":"yolgen_surroundings_flagstone_4",
        "message":"Yes, thanks to you my friend, we don't need to worry about the undead anymore.",
        "replies":[
            {
                "text":"There was something else I wanted to ask you about.",
                "nextPhraseID":"yolgen_surroundings_0"
            },
            {
                "text":"Where do you think they came from?",
                "nextPhraseID":"yolgen_1"
            }
        ]
    },
    {
        "id":"yolgen_4",
        "message":"Well, he has installed garrisons in pretty much every village, introduced a tax system and now he even wants to prohibit the worship of the mighty Shadow! This is outrageous!",
        "replies":[
            {
                "text":"Thanks.",
                "nextPhraseID":"yolgen_initial_0"
            },
            {
                "text":"And bonemeal is forbidden.",
                "nextPhraseID":"yolgen_4a"
            },
            {
                "text":"I will clear the castle of undead for you.",
                "nextPhraseID":"yolgen_castle_0_1",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":10,
                        "negate":true
                    }
                ]
            }
        ]
    },
    {
        "id":"yolgen_4a",
        "message":"Yes, incredible! Although kids like you should not play with such things.",
        "replies":[
            {
                "text":"Hmph.",
                "nextPhraseID":"yolgen_initial_0"
            },
            {
                "text":"I will clear the castle of undead for you.",
                "nextPhraseID":"yolgen_castle_0_1",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":10,
                        "negate":true
                    }
                ]
            }
        ]
    },
    {
        "id":"yolgen_task_0_2",
        "message":"Well, you look a bit young. But I guess we could still make use of you in these dark times. Let me think about some tasks I can offer you.",
        "replies":[
            {
                "text":"What about the undead in the castle?",
                "nextPhraseID":"yolgen_castle_0",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":10,
                        "negate":true
                    }
                ]
            },
            {
                "text":"What about Flagstone prison?",
                "nextPhraseID":"yolgen_flagstone_0",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":5,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":70,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":100,
                        "negate":true
                    }
                ]
            }
        ]
    },
    {
        "id":"yolgen_task_0",
        "replies":[
            {
                "nextPhraseID":"yolgen_task_0_2",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_reinforcements",
                        "value":10,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"not_yet_realized",
                        "value":10
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_2",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":10,
                        "negate":true
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_2",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":5,
                        "negate":true
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_2",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"prim_tunnel",
                        "value":10,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"not_yet_realized",
                        "value":10
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_2_1",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":100,
                        "negate":true
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_2_2",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":50,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":60,
                        "negate":true
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":70,
                        "negate":true
                    }
                ]
            },
            {
                "nextPhraseID":"yolgen_task_0_1"
            }
        ]
    },
    {
        "id":"yolgen_surroundings_1",
        "message":"Flagstone Prison was built four hundred years ago by house Gorland of Stoutford, and was used until the Noble Wars, when the house was vanguished by it's enemies. They mostly used it to detain people that were worshipping the \"old gods\".",
        "replies":[
            {
                "text":"N",
                "nextPhraseID":"yolgen_surroundings_1a"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"nondisplay_2",
                "value":190
            }
        ]
    },
    {
        "id":"yolgen_surroundings_2c",
        "message":"However, recently more and more of the most foul monsters are coming from the mountain and we have to fend them off. With the rise of undead knights in the castle and Lord Erwyn's demise we struggle more and more.",
        "replies":[
            {
                "text":"That sounds dreadful. Can I help you with the castle?",
                "nextPhraseID":"yolgen_castle_0",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stoutford_castle",
                        "value":10,
                        "negate":true
                    }
                ]
            },
            {
                "text":"Is there anything I could do to help?",
                "nextPhraseID":"yolgen_task_0"
            },
            {
                "text":"There was something else I wanted to ask you about.",
                "nextPhraseID":"yolgen_surroundings_0"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"nondisplay_2",
                "value":180
            }
        ]
    },
    {
        "id":"yolgen_task_0_2_1",
        "message":"Could you help with Flagstone?",
        "replies":[
            {
                "text":"OK. I will go to the prison.",
                "nextPhraseID":"X",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":70,
                        "negate":true
                    }
                ]
            },
            {
                "text":"I cleared flagstone of an evil demon.",
                "nextPhraseID":"yolgen_flagstone_10",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":70
                    }
                ]
            }
        ]
    },
    {
        "id":"yolgen_flagstone_0",
        "message":"If you could help with Flagstone, it would take a big burden off us.",
        "replies":[
            {
                "text":"I have been inside Flagstone, but I will go back and find out more.",
                "nextPhraseID":"X",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":20
                    },
                    {
                        "requireType":"questProgress",
                        "requireID":"flagstone",
                        "value":70,
                        "negate":true
                    }
                ]
            },
            {
                "text":"OK, I will take a look.",
                "nextPhraseID":"X"
            },
            {
                "text":"Maybe.",
                "nextPhraseID":"X"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"flagstone",
                "value":5
            }
        ]
    },
    {
        "id":"stoutford_guard_camp2_30",
        "message":"We saw another horde of undead approach the castle just as we left. We hurried here, so that we can complete our exercise and be back in time to be able to help.",
        "replies":[
            {
                "text":"You mean, you ran away just in time, before you got involved in the fight?",
                "nextPhraseID":"stoutford_guard_camp2_40"
            }
        ]
    },
    {
        "id":"stoutford_guard_camp2_40",
        "message":"Ow, the way you put it, that doesn't sound nice.",
        "replies":[
            {
                "text":"Cowardice. I'll report that to your commander.",
                "nextPhraseID":"stoutford_guard_camp2_42"
            },
            {
                "text":"I had better leave now.",
                "nextPhraseID":"X"
            },
            {
                "text":"I had better leave now. You do not need to hurry with your exercise. All your comrades have already been killed by the undead.",
                "nextPhraseID":"X",
                "requires":[
                    {
                        "requireType":"questProgress",
                        "requireID":"stn_nondisplay",
                        "value":4
                    }
                ]
            }
        ]
    },
    {
        "id":"stoutford_guard_camp1_10",
        "message":"Hi kid. It is nice and warm here next to the fire. Come and make yourself comfortable.",
        "replies":[
            {
                "text":"Ah, no thank you. I have more interesting things to do.",
                "nextPhraseID":"stoutford_guard_camp2_10"
            }
        ]
    },
    {
        "id":"stn_colonel_131",
        "message":"$playername! What do you think you are doing?!",
        "switchToNPC":"mikhail",
        "replies":[
            {
                "text":"Mikhail! You are here?",
                "nextPhraseID":"stn_colonel_131_2"
            }
        ]
    },
    {
        "id":"stn_colonel_131_2",
        "message":"We need you back home. Andor is back since a long time ago, and we have our hands full trying to control the rat plague.",
        "replies":[
            {
                "text":"Oh dear, really?",
                "nextPhraseID":"stn_colonel_131_3"
            }
        ]
    },
    {
        "id":"stn_colonel_131_3",
        "message":"Come with me now. And give me back my ring.",
        "replies":[
            {
                "text":"Sure, here is your ring. It was very useful in the beginning, but I don't need it anymore.",
                "nextPhraseID":"stn_colonel_131_4a",
                "requires":[
                    {
                        "requireType":"inventoryRemove",
                        "requireID":"ring_mikhail",
                        "value":1
                    }
                ]
            },
            {
                "text":"I don't have it anymore, sorry.",
                "nextPhraseID":"stn_colonel_131_4b",
                "requires":[
                    {
                        "requireType":"inventoryKeep",
                        "requireID":"ring_mikhail",
                        "value":1,
                        "negate":true
                    },
                    {
                        "requireType":"wear",
                        "requireID":"ring_mikhail",
                        "value":1,
                        "negate":true
                    }
                ]
            },
            {
                "text":"(Lie) I don't have it anymore, sorry.",
                "nextPhraseID":"stn_colonel_131_4b",
                "requires":[
                    {
                        "requireType":"inventoryKeep",
                        "requireID":"ring_mikhail",
                        "value":1
                    }
                ]
            },
            {
                "text":"(Lie) I don't have it anymore, sorry. This ring on my finger just looks similar.",
                "nextPhraseID":"stn_colonel_131_4b",
                "requires":[
                    {
                        "requireType":"wear",
                        "requireID":"ring_mikhail",
                        "value":1
                    }
                ]
            }
        ]
    },
    {
        "id":"stn_colonel_131_4a",
        "message":"[Ring taken]\nThank you, stupid boy.",
        "replies":[
            {
                "text":"What?",
                "nextPhraseID":"stn_colonel_131_10a"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"stn_colonel",
                "value":131
            },
            {
                "rewardType":"spawnAll",
                "rewardID":"stn_colonel_mons3"
            }
        ]
    },
    {
        "id":"stn_colonel_131_4b",
        "message":"You think you are clever? Useless kid!",
        "replies":[
            {
                "text":"What?",
                "nextPhraseID":"stn_colonel_131_10b"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"stn_colonel",
                "value":131
            },
            {
                "rewardType":"spawnAll",
                "rewardID":"stn_colonel_mons3b"
            }
        ]
    },
    {
        "id":"stn_colonel_132_20a",
        "message":"A poser can imitate someone you have had in mind recently. Also, if you give him some object, then he can turn it into a second duplicate.",
        "replies":[
            {
                "text":"Yes, but two Mikhails were a little bit too conspicuous.",
                "nextPhraseID":"stn_colonel_140"
            }
        ]
    },
    {
        "id":"stn_colonel_132_20b",
        "message":"A poser can imitate a person you have had in mind recently, if you don't give him anything.",
        "replies":[
            {
                "text":"So Mikhail wasn't really here and I didn't kill him. I'm relieved.",
                "nextPhraseID":"stn_colonel_140"
            }
        ]
    },
    {
        "id":"stn_colonel_132",
        "message":"I am impressed. You won the fight with my poser.",
        "switchToNPC":"stn_colonel",
        "replies":[
            {
                "text":"A Poser? What's that?",
                "nextPhraseID":"stn_colonel_132_10"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"stn_colonel",
                "value":132
            },
            {
                "rewardType":"questProgress",
                "rewardID":"stn_nondisplay",
                "value":140
            }
        ]
    },
    {
        "id":"yolgen_castle_6",
        "message":"That is it. The ring is destroyed. I wonder where it came from. Maybe from the depths of Mt. Galmore, or some mischievous traveller put it on Lord Erwyn's remains? Anyway, my friend, I and the people of Stoutford are most grateful.",
        "switchToNPC":"yolgen",
        "replies":[
            {
                "text":"Thank you. ",
                "nextPhraseID":"X"
            },
            {
                "text":"Thank you. Shadow be with you.",
                "nextPhraseID":"X"
            }
        ],
        "rewards":[
            {
                "rewardType":"questProgress",
                "rewardID":"stoutford_castle",
                "value":50
            }
        ]
    },
    {
        "id":"stoutford_castle_0",
        "message":"Ah another mortal! You shall be another servant in Lord Erwyn's army! Ha Ha!",
        "replies":[
            {
                "text":"No thank you. Maybe another time.",
                "nextPhraseID":"F"
            }
        ]
    }
]